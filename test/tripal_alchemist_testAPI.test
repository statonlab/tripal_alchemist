<?php

require_once '../includes/tripal_alchemist.api.inc';
use PHPUnit\Framework\TestCase;
use PHPUnit\DbUnit\TestCaseTrait;
define('DRUPAL_ROOT', getenv('DRUPAL_ROOT'));//this needs to come from teh docker container or the .env
echo(getenv(DRUPAl_ROOT));

$start = getcwd();

require_once DRUPAL_ROOT . '/includes/bootstrap.inc';
$_SERVER['REMOTE_ADDR'] = '127.0.0.1';

chdir("/Users/chet/UTK/tripal");
drupal_bootstrap(DRUPAL_BOOTSTRAP_FULL);

chdir($start);

final class tripal_alchemist_testAPI extends TestCase
{
  public function testTrueIsTrue()
  {
    $foo = true;
    $this->assertTrue($foo);

  }

  public function testHasBundles() {
    $bundles = tripal_alchemist_get_all_bundles();
    $this->assertInternalType('array', $bundles);
  }

public function testTripal_alchemist_get_matching_bundles() {

    $bundles = tripal_alchemist_get_matching_bundles("organism");
    $this->assertInternalType('array', $bundles);


}




}